<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.web.WebView?>


<VBox spacing="10" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/23.0.1" fx:controller="tn.esprit.controllers.MainController">
    <padding>
        <Insets bottom="20" left="20" right="20" top="20" />
    </padding>

    <TabPane VBox.vgrow="ALWAYS">
        <Tab closable="false" text="Stations">
            <VBox spacing="10">
                <HBox spacing="10">
                    <VBox spacing="10">
                        <TextField fx:id="searchZoneField" promptText="Search by Zone" />
                        <Button onAction="#handleSearchByZone" text="Search" />
                        <FlowPane fx:id="stationCardView" hgap="10" prefHeight="300" prefWidth="400" vgap="10" />
                    </VBox>

                    <VBox spacing="10">
                        <Label text="Station Details" />
                        <TextField fx:id="stationNameField" promptText="Station Name" />
                        <TextField fx:id="capacityField" promptText="Capacity" />
                        <TextField fx:id="zoneField" promptText="Zone" />
                        <TextField fx:id="statusField" promptText="Status" />
                        <VBox spacing="10">
                            <Label text="Carte de la Station"/>

                        </VBox>

                        <HBox spacing="10">
                            <Button onAction="#handleAddStation" text="Add" />
                            <Button onAction="#handleUpdateStation" text="Update" />
                            <Button onAction="#handleDeleteStation" text="Delete" />
                            <AnchorPane>
                                <WebView fx:id="mapView" prefHeight="500" prefWidth="600"/>
                            </AnchorPane>


                        </HBox>
                    </VBox>
                </HBox>
            </VBox>
        </Tab>

        <Tab closable="false" text="Reservations">
            <VBox spacing="10">
                <HBox spacing="10">
                    <VBox spacing="10">
                        <DatePicker fx:id="searchDateField" promptText="Search by Date" />
                        <Button onAction="#handleSearchByDate" text="Search" />
                        <FlowPane fx:id="reservationCardView" hgap="10" prefHeight="300" prefWidth="400" vgap="10" />

                    </VBox>

                    <VBox spacing="10">
                        <Label text="Reservation Details" />
                        <TextField fx:id="placeField" promptText="Place Number" />
                        <DatePicker fx:id="datePicker" promptText="Date" />
                        <TextField fx:id="timeField" promptText="Time" />
                        <TextField fx:id="brandField" promptText="Car Brand" />
                        <ComboBox fx:id="stationComboBox" promptText="Select Station" /> <!-- Ajout de la ComboBox -->

                        <HBox spacing="10">
                            <Button onAction="#handleAddReservation" text="Add" />
                            <Button onAction="#handleUpdateReservation" text="Update" />
                            <Button onAction="#handleDeleteReservation" text="Delete" />
                            <Button onAction="#handleClearReservation" text="Clear" />


                        </HBox>
                        <ImageView fx:id="qrCodeImageView" fitHeight="102.0" fitWidth="76.0" />
                    </VBox>
                </HBox>
            </VBox>
        </Tab>
    </TabPane>
</VBox>
